<?xml version="1.0" encoding="ISO-8859-1"?>
<circleCI_metamodel:Pipeline xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:circleCI_metamodel="http://www.example.org/circleCI_metamodel" version="2.0">
  <commands name="ComInput">
    <steps xsi:type="circleCI_metamodel:Run">
      <run_commands name="change this command to run"/>
    </steps>
    <parameters name="Input"/>
  </commands>
  <commands name="ComInput-v2">
    <steps xsi:type="circleCI_metamodel:Run">
      <run_commands name="change this command to run"/>
    </steps>
    <parameters name="Input-v2" type="boolean" default="true"/>
  </commands>
  <workflow name="dummyWorkflow" version="2.0">
    <triggers cron="*/15 * * * *"/>
    <jobworkflow name="Build"/>
    <jobworkflow name="Test">
      <requires>Build</requires>
    </jobworkflow>
    <jobworkflow name="Executor Job">
      <matrix alias="test-matrix">
        <matrix_exclude key="aba">
          <values>1</values>
          <values>5</values>
          <values>8</values>
        </matrix_exclude>
        <matrix_exclude key="os">
          <values>ubuntu</values>
        </matrix_exclude>
        <matrix_params key="version">
          <values>0.1</values>
          <values>0.2</values>
          <values>0.3</values>
        </matrix_params>
        <matrix_params key="platform">
          <values>windows</values>
          <values>macos</values>
        </matrix_params>
      </matrix>
    </jobworkflow>
  </workflow>
  <jobs name="Build" reuseExecutor="docker">
    <environments key="MY-TEST-ENV" value="env_secret@78"/>
    <steps xsi:type="circleCI_metamodel:SaveCache" key="v1-{{ checksum &quot;yarn.lock&quot; }}">
      <paths>node_modules/workspace-a</paths>
      <paths>node_modules/workspace-c</paths>
    </steps>
    <steps xsi:type="circleCI_metamodel:Run">
      <run_commands name="echo"/>
      <parameters parameter="hello-world"/>
    </steps>
    <steps xsi:type="circleCI_metamodel:Run">
      <run_commands name="mkdir -p /tmp/test-results"/>
    </steps>
    <executors xsi:type="circleCI_metamodel:Docker" name="linux-1.3" image="maven:3.9.3-eclipse-temurin-17" resourceClass="medium"/>
  </jobs>
  <jobs name="Test" reuseExecutor="docker">
    <steps xsi:type="circleCI_metamodel:Run">
      <run_commands name="bundle exec jekyll build --source jekyll --destination jekyll/_site/docs/"/>
    </steps>
    <steps xsi:type="circleCI_metamodel:When_Unless" condition="branch = main">
      <when_step xsi:type="circleCI_metamodel:Run">
        <run_commands name="npm install java -v 1.4"/>
      </when_step>
      <unless_step xsi:type="circleCI_metamodel:Run">
        <run_commands name="echo &quot;else step&quot;"/>
      </unless_step>
    </steps>
  </jobs>
  <jobs name="Executor Job" reuseExecutor="docker">
    <steps xsi:type="circleCI_metamodel:Run">
      <run_commands name="git submodule sync"/>
    </steps>
    <steps xsi:type="circleCI_metamodel:StoreArtifact" path="jekyll/_site/docs/"/>
  </jobs>
  <executors xsi:type="circleCI_metamodel:Docker" name="docker" image="buildpack-deps:trusty" resourceClass="medium">
    <environments key="ENV" value="CI"/>
    <docker_auth username="$DOCKERHUB_PASSWORD" password="mydockerhub-user"/>
  </executors>
  <executors xsi:type="circleCI_metamodel:Docker" name="Apache-1.2" image="image2" resourceClass="medium"/>
</circleCI_metamodel:Pipeline>
